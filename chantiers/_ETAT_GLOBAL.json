{
  "metadata": {
    "projet": "Staffing ESN",
    "version": "2.0",
    "derniere_mise_a_jour": "2025-10-05",
    "description": "État machine du projet - Suivi des chantiers et de l'infrastructure"
  },
  "chantier_actuel": {
    "numero": "00",
    "nom": "setup",
    "statut": "ready_to_start",
    "description": "Setup infrastructure Cloudflare",
    "prereq_status": "complete"
  },
  "chantiers_completes": [],
  "chantiers_disponibles": [
    {
      "numero": "00",
      "nom": "setup",
      "description": "Infrastructure Cloudflare (Workers, D1, Pages, Secrets)",
      "duree_estimee": "2j",
      "statut": "available"
    },
    {
      "numero": "01",
      "nom": "auth",
      "description": "Authentification JWT + RBAC middleware",
      "duree_estimee": "2j",
      "statut": "blocked",
      "bloque_par": ["00"]
    },
    {
      "numero": "02",
      "nom": "database",
      "description": "Schéma D1 (8 tables + vues + seed data)",
      "duree_estimee": "2j",
      "statut": "blocked",
      "bloque_par": ["01"]
    },
    {
      "numero": "03",
      "nom": "crud_base",
      "description": "CRUD Consultants + Projets avec RBAC",
      "duree_estimee": "3j",
      "statut": "blocked",
      "bloque_par": ["02"]
    },
    {
      "numero": "04",
      "nom": "interventions",
      "description": "Allocations consultants (interventions)",
      "duree_estimee": "2j",
      "statut": "blocked",
      "bloque_par": ["03"]
    },
    {
      "numero": "05",
      "nom": "timesheet",
      "description": "Saisie temps demi-journée (web + PWA mobile)",
      "duree_estimee": "4j",
      "statut": "blocked",
      "bloque_par": ["04"]
    },
    {
      "numero": "06",
      "nom": "validation",
      "description": "Workflow validation timesheets",
      "duree_estimee": "3j",
      "statut": "blocked",
      "bloque_par": ["05"]
    },
    {
      "numero": "07",
      "nom": "dashboards",
      "description": "Dashboards (Consultant, Owner, Admin)",
      "duree_estimee": "4j",
      "statut": "blocked",
      "bloque_par": ["06"]
    },
    {
      "numero": "08",
      "nom": "directeur",
      "description": "Dashboard Directeur (CJR/CJN)",
      "duree_estimee": "3j",
      "statut": "blocked",
      "bloque_par": ["07"]
    },
    {
      "numero": "09",
      "nom": "chat",
      "description": "Chat Gemini API + NLU intentions",
      "duree_estimee": "4j",
      "statut": "blocked",
      "bloque_par": ["06"]
    },
    {
      "numero": "10",
      "nom": "mcp",
      "description": "MCP Server (5 tools core)",
      "duree_estimee": "3j",
      "statut": "blocked",
      "bloque_par": ["09"]
    },
    {
      "numero": "11",
      "nom": "deploy",
      "description": "Tests E2E + déploiement production",
      "duree_estimee": "3j",
      "statut": "blocked",
      "bloque_par": ["08", "10"]
    }
  ],
  "infrastructure": {
    "cloudflare": {
      "workers": {
        "deploye": false,
        "url": null,
        "derniere_version": null
      },
      "d1_database": {
        "cree": false,
        "database_id": null,
        "database_name": "staffing-db",
        "tables_creees": []
      },
      "pages": {
        "deploye": false,
        "url": null,
        "projet_id": null
      },
      "secrets_configures": [],
      "kv_namespaces": [],
      "r2_buckets": []
    }
  },
  "fichiers_cles": {
    "api": {
      "existe": true,
      "fichiers": [
        "api/package.json",
        "api/tsconfig.json",
        "api/vitest.config.ts",
        "api/.dev.vars.example",
        "api/wrangler.toml"
      ]
    },
    "frontend": {
      "existe": true,
      "fichiers": [
        "frontend/package.json",
        "frontend/vitest.config.ts",
        "frontend/playwright.config.ts",
        "frontend/tsconfig.json",
        "frontend/vite.config.ts",
        "frontend/tailwind.config.js"
      ]
    },
    "docs": {
      "existe": true,
      "fichiers": [
        "docs/spec-staffing-esn-finale.md",
        "docs/README.md",
        "docs/QUICKSTART.md",
        "docs/TAILWIND_GUIDE.md",
        "docs/TESTING_STRATEGY.md",
        "docs/DEV_LOCAL.md"
      ]
    },
    "chantiers": {
      "existe": true,
      "fichiers": [
        "chantiers/_GUIDE_CHANTIERS.md",
        "chantiers/_TEMPLATE_HANDOFF.md",
        "chantiers/_ETAT_GLOBAL.json",
        "chantiers/CHANTIER_00_setup.md",
        "chantiers/CHANTIER_01_auth.md",
        "chantiers/CHANTIER_02_database.md",
        "chantiers/CHANTIER_03_crud_base.md",
        "chantiers/CHANTIER_04_interventions.md",
        "chantiers/CHANTIER_05_timesheet.md",
        "chantiers/CHANTIER_06_validation.md",
        "chantiers/CHANTIER_07_dashboards.md",
        "chantiers/CHANTIER_08_directeur.md",
        "chantiers/CHANTIER_09_chat.md",
        "chantiers/CHANTIER_10_mcp.md",
        "chantiers/CHANTIER_11_deploy.md",
        "chantiers/handoffs/HANDOFF_00_EXAMPLE.md"
      ]
    },
    "scripts": {
      "existe": true,
      "fichiers": [
        "scripts/bootstrap.sh",
        "scripts/dev-local.sh",
        "scripts/dev-local-seed.sh"
      ]
    },
    "racine": {
      "existe": true,
      "fichiers": [
        "README.md",
        "package.json",
        "PROJET_COMPLET.md"
      ]
    }
  },
  "tests": {
    "unit": {
      "total": 0,
      "passing": 0,
      "failing": 0,
      "coverage": 0
    },
    "integration": {
      "total": 0,
      "passing": 0,
      "failing": 0
    },
    "e2e": {
      "total": 0,
      "passing": 0,
      "failing": 0
    }
  },
  "dependencies": {
    "api": {
      "node_version": ">=18.0.0",
      "npm_packages": [
        "hono",
        "zod",
        "jsonwebtoken",
        "bcryptjs",
        "vitest",
        "@cloudflare/workers-types",
        "wrangler"
      ]
    },
    "frontend": {
      "node_version": ">=18.0.0",
      "npm_packages": [
        "react",
        "react-dom",
        "react-router-dom",
        "@tanstack/react-query",
        "zustand",
        "date-fns",
        "vite",
        "vitest",
        "@playwright/test",
        "tailwindcss"
      ]
    }
  },
  "handoffs": {
    "dernier_handoff": null,
    "historique": []
  },
  "metriques": {
    "total_jours_consommes": 0,
    "budget_jours_restants": 60,
    "pourcentage_completion": 0,
    "chantiers_termines": 0,
    "chantiers_totaux": 12
  },
  "problemes_connus": [],
  "notes": [
    "Le projet démarre au chantier 00 (setup infrastructure)",
    "Consulter docs/spec-staffing-esn-finale.md pour la spécification complète",
    "Consulter chantiers/_GUIDE_CHANTIERS.md pour démarrer",
    "Phase de préparation (configs + docs) terminée",
    "31+ fichiers de documentation et configuration créés",
    "Prêt pour l'exécution du CHANTIER_00"
  ],
  "preparation_status": {
    "documentation_complete": true,
    "configs_complete": true,
    "chantiers_documentes": 12,
    "exemple_handoff_cree": true,
    "scripts_bootstrap_crees": true,
    "github_actions_crees": true,
    "github_templates_crees": true,
    "vscode_config_complete": true,
    "contributing_guide_cree": true,
    "formatage_configs_crees": true,
    "ready_for_chantier_00": true
  }
}
